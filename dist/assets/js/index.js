"use strict";function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,a=!0,i=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){i=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xml2json(t){var e=_toConsumableArray(t.children);if(!e.length){if(t.attributes&&t.attributes.length>0){for(var r={attributes:{}},n=0;n<t.attributes.length;n++)r.attributes[t.attributes[n].name]=t.attributes[n].value;return r.text=t.innerHTML,r}return t.innerHTML}var o,a={},i=_createForOfIteratorHelper(e);try{var s=function(){var t=o.value;e.filter(function(e){return e.nodeName===t.nodeName}).length>1?void 0===a[t.nodeName]?a[t.nodeName]=[xml2json(t)]:a[t.nodeName].push(xml2json(t)):a[t.nodeName]=xml2json(t)};for(i.s();!(o=i.n()).done;)s()}catch(t){i.e(t)}finally{i.f()}if(t.attributes&&t.attributes.length>0){a.attributes={};for(var u=0;u<t.attributes.length;u++)a.attributes[t.attributes[u].name]=t.attributes[u].value}return a}var optionEurope=sessionStorage.getItem("option-europe"),optionBusiness=sessionStorage.getItem("option-business"),optionHealth=sessionStorage.getItem("option-health"),optionTravel=sessionStorage.getItem("option-travel"),optionSport=sessionStorage.getItem("option-sport");function showData(t){var e=xml2json((new DOMParser).parseFromString(t,"application/xml"));console.log(e);var r=document.querySelector(".dropdown-container"),n=document.querySelector("#template-category-dropdown"),o=document.querySelector("#template-news-item"),a=n.content.cloneNode(!0),i=a.querySelector(".dropdown-content");a.querySelector(".dropdown-title").innerText=e.rss.channel.title.split("&gt;")[e.rss.channel.title.split("&gt;").length-1];for(var s=e.rss.channel.item,u=0;u<s.length;u++){var l=o.content.cloneNode(!0);l.querySelector(".news-item").setAttribute("data-id",u),l.querySelector(".news-item").setAttribute("data-category",s.title),l.querySelector(".news-item-headline").innerText=s[u].title,l.querySelector(".news-item-body").innerText=s[u].description,l.querySelector(".news-item-link").href=s[u].link,s[u]["media:content"]?l.querySelector(".news-item-icon").src=s[u]["media:content"].attributes.url:l.querySelector(".news-item-icon").src=e.rss.channel.image.url,i.appendChild(l)}r.appendChild(a);var c=r.querySelector(".category-dropdown-wrapper:last-child");addDropdownListener(c)}"true"==optionEurope&&fetch("https://rss.nytimes.com/services/xml/rss/nyt/Europe.xml").then(function(t){return t.text()}).then(function(t){showData(t)}),"true"==optionBusiness&&fetch("https://rss.nytimes.com/services/xml/rss/nyt/Business.xml").then(function(t){return t.text()}).then(function(t){showData(t)}),"true"==optionHealth&&fetch("https://rss.nytimes.com/services/xml/rss/nyt/Health.xml").then(function(t){return t.text()}).then(function(t){showData(t)}),"true"==optionTravel&&fetch("https://rss.nytimes.com/services/xml/rss/nyt/Travel.xml").then(function(t){return t.text()}).then(function(t){showData(t)}),"true"==optionSport&&fetch("https://rss.nytimes.com/services/xml/rss/nyt/Sports.xml").then(function(t){return t.text()}).then(function(t){showData(t)});